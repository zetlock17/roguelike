import os
import time
import random
from colorama import Fore, Back, Style, init


from input_handler import get_char



ITALIC_ON = "\033[3m"
ITALIC_OFF = "\033[23m"
subtitle = Fore.RED + Style.DIM
reset = Fore.RESET + Style.RESET_ALL
gun = Fore.YELLOW + Style.DIM


def show_title_screen():
    os.system('cls' if os.name == 'nt' else 'clear')
        
    print("â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                              â–ˆ")
    print("â–ˆ                                â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•                              â–ˆ")
    print("â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                                â–ˆ")
    print("â–ˆ                                â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•                                â–ˆ")
    print("â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                              â–ˆ")
    print("â–ˆ                                â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•â•â•â•â•                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ"+ITALIC_ON+"                                Ğ’Ñ‹ - ÑĞµÑ€Ğ¸Ğ¹Ğ½Ñ‹Ğ¹ ÑƒĞ±Ğ¸Ğ¹Ñ†Ğ° Ğ½Ğ° Ğ¿Ğ¾Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ğ¾Ğ¼ Ğ·Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸"+ITALIC_OFF+"                                â–ˆ")
    print("â–ˆ"+ITALIC_ON+"                          Ğ’ Ñ‚ÑÑ€ÑŒĞ¼Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞµĞ» ÑĞ±Ğ¾Ğ¹, Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²ÑˆĞ¸Ğ¹ Ğ²ÑĞµ Ğ´Ğ²ĞµÑ€Ğ¸, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ¹..."+ITALIC_OFF+"                        â–ˆ")
    print("â–ˆ"+ITALIC_ON+"                           ĞĞ°Ğ¹Ğ´Ğ¸ Ñ‚Ñ€Ğ¸ ĞºĞ»ÑÑ‡Ğ° Ğ¸ ÑĞ¾Ğ²ĞµÑ€ÑˆĞ¸ Ğ¿Ğ¾Ğ±ĞµĞ³. ĞĞ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ğ»Ğ¸ ÑÑ‚Ğ¾ Ñ‚Ğ°Ğº Ğ»ĞµĞ³ĞºĞ¾?"+ITALIC_OFF+"                        â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                                     .-.                                                      â–ˆ")
    print("â–ˆ                                                    (Ò‚""\033[31m`\033[0m""_""\033[31mÂ´\033[0m"")                                                    â–ˆ")
    print("â–ˆ                                                   <,""\033[38;5;130mï¸»\033[0m""\033[30mâ•¦â•¤\033[0m""\033[38;5;130mâ”€\033[0m""ğŸ’¥                                                  â–ˆ")
    print("â–ˆ                                                    _/ \_                                                     â–ˆ")
    print("â–ˆ                                                                                                              â–ˆ")
    print("â–ˆ                                         â–„â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–ˆâ–„                                         â–ˆ")
    print("â–ˆ                                       â–„â–ˆâ–€                          â–€â–ˆâ–„                                       â–ˆ")
    print("â–ˆ                                     â–„â–ˆâ–€"+subtitle+"     ĞĞĞ–ĞœĞ˜Ğ¢Ğ• Ğ›Ğ®Ğ‘Ğ£Ğ® ĞšĞ›ĞĞ’Ğ˜Ğ¨Ğ£    "+reset+"â–€â–ˆâ–„                                     â–ˆ")
    print("â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€                                  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€")

    
    get_char()




def transition_to_game():
    title_screen_lines = [
        "â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                              â–ˆ",
        "â–ˆ                                â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â•â•â•                              â–ˆ",
        "â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                                â–ˆ",
        "â–ˆ                                â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â• â–ˆâ–ˆâ•”â•â•â•                                â–ˆ",
        "â–ˆ                                â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—                              â–ˆ",
        "â–ˆ                                â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•     â•šâ•â•â•â•â•â•â•                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ"+ITALIC_ON+"                                Ğ’Ñ‹ - ÑĞµÑ€Ğ¸Ğ¹Ğ½Ñ‹Ğ¹ ÑƒĞ±Ğ¸Ğ¹Ñ†Ğ° Ğ½Ğ° Ğ¿Ğ¾Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ğ¾Ğ¼ Ğ·Ğ°ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸"+ITALIC_OFF+"                                â–ˆ",
        "â–ˆ"+ITALIC_ON+"                          Ğ’ Ñ‚ÑÑ€ÑŒĞ¼Ğµ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞµĞ» ÑĞ±Ğ¾Ğ¹, Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²ÑˆĞ¸Ğ¹ Ğ²ÑĞµ Ğ´Ğ²ĞµÑ€Ğ¸, ĞºÑ€Ğ¾Ğ¼Ğµ Ğ¾Ğ´Ğ½Ğ¾Ğ¹..."+ITALIC_OFF+"                        â–ˆ",
        "â–ˆ"+ITALIC_ON+"                           ĞĞ°Ğ¹Ğ´Ğ¸ Ñ‚Ñ€Ğ¸ ĞºĞ»ÑÑ‡Ğ° Ğ¸ ÑĞ¾Ğ²ĞµÑ€ÑˆĞ¸ Ğ¿Ğ¾Ğ±ĞµĞ³. ĞĞ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ğ»Ğ¸ ÑÑ‚Ğ¾ Ñ‚Ğ°Ğº Ğ»ĞµĞ³ĞºĞ¾?"+ITALIC_OFF+"                        â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                                     .-.                                                      â–ˆ",
        "â–ˆ                                                    (Ò‚""\033[31m`\033[0m""_""\033[31mÂ´\033[0m"")                                                    â–ˆ",
        "â–ˆ                                                   <,""\033[38;5;130mï¸»\033[0m""\033[30mâ•¦â•¤\033[0m""\033[38;5;130mâ”€\033[0m""ğŸ’¥                                                  â–ˆ",
        "â–ˆ                                                    _/ \_                                                     â–ˆ",
        "â–ˆ                                                                                                              â–ˆ",
        "â–ˆ                                         â–„â–ˆâ–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–ˆâ–„                                         â–ˆ",
        "â–ˆ                                       â–„â–ˆâ–€                          â–€â–ˆâ–„                                       â–ˆ",
        "â–ˆ                                     â–„â–ˆâ–€"+subtitle+"     ĞĞĞ–ĞœĞ˜Ğ¢Ğ• Ğ›Ğ®Ğ‘Ğ£Ğ® ĞšĞ›ĞĞ’Ğ˜Ğ¨Ğ£    "+reset+"â–€â–ˆâ–„                                     â–ˆ",
        "â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€                                  â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€â–€"
    ] 

    def clear_screen():
        os.system('cls' if os.name == 'nt' else 'clear')

    for step in range(20):
        clear_screen()
        for line in title_screen_lines:
            faded_line = ""
            for char in line:
                # Ğ¡Ğ»ÑƒÑ‡Ğ°Ğ¹Ğ½Ğ¾Ğµ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ñ ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ²Ğ°ÑÑ‰ĞµĞ¹ÑÑ Ğ²ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚ÑŒÑ
                if random.random() < step * 0.05:
                    faded_line += " "
                else:
                    faded_line += char
            # Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ»ĞµĞ³ĞºĞ¾Ğµ "Ñ€Ğ°Ğ·Ğ¼Ñ‹Ñ‚Ğ¸Ğµ" Ñ†Ğ²ĞµÑ‚Ğ¾Ğ¼
            if step > 10:
                print(Fore.LIGHTBLACK_EX + Style.DIM + faded_line + Style.RESET_ALL)
            else:
                print(faded_line)
        time.sleep(0.03)

    # Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ°Ğ´Ğ¸Ñ: Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ·Ğ°Ñ‚ĞµĞ¼Ğ½ĞµĞ½Ğ¸Ğµ
    for alpha in range(10, -1, -1):
        clear_screen()
        for line in title_screen_lines:
            # ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¸ÑÑ‡ĞµĞ·Ğ½Ğ¾Ğ²ĞµĞ½Ğ¸Ğµ Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¾Ğ¼ Ğ¿Ñ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
            if random.random() < alpha / 10:
                print(Fore.LIGHTBLACK_EX + Style.DIM + line + Style.RESET_ALL)
            else:
                print(" " * len(line))
        time.sleep(0.05)

    clear_screen()